{"version":3,"sources":["./$_lazy_route_resource lazy namespace object","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/circle/circle.component.ts","./src/app/circle/circle.component.svg","./src/app/circle/circle.model.ts","./src/app/rect/rect.component.ts","./src/app/rect/rect.component.svg","./src/app/rect/rect.model.ts","./src/app/shared/chain-comparer.ts","./src/app/shared/shape.component.ts","./src/app/shared/shape.model.ts","./src/environments/environment.ts","./src/main.ts"],"names":[],"mappings":"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","file":"main-es2015.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import { Component, HostListener } from '@angular/core';\nimport { Circle } from './circle/circle.model';\nimport { Rect } from \"./rect/rect.model\";\nimport { Shape } from \"./shared/shape.model\";\nimport { distinctUntilChanged } from 'rxjs/operators';\nimport { ChainComparer } from './shared/chain-comparer';\n\n@Component({\n    selector: 'app-root',\n    templateUrl: './app.component.html',\n    styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n    shapes: Shape[] = [\n        new Circle({ x: 50, y: 50 }),\n        new Circle({ x: 100, y: 150 }),\n        new Circle({ x: 150, y: 50 }),\n        new Circle({ x: 200, y: 200 }),\n        new Rect({ x: 250, y: 50 }),\n        new Rect({ x: 300, y: 160 }),\n        new Rect({ x: 360, y: 50 }),\n        new Rect({ x: 450, y: 200 }),\n    ];\n\n    constructor() {\n        this.shapes.forEach(s => {\n            s.isHovered.pipe(distinctUntilChanged()).subscribe(() => this.updateOrder());\n            s.isDragged.pipe(distinctUntilChanged()).subscribe(() => this.updateOrder());\n        })\n    }\n\n    public updateOrder() {\n        if (this.shapes.find(s => s.isDragged.value)) return;\n\n        this.shapes = this.shapes.sort((a, b) => new ChainComparer<Shape>(a, b)\n            .compareBy((shape) => shape.isHovered.value)\n            .compareBy((shape) => shape.x.value)\n            .compareBy((shape) => shape.y.value)\n            .evaluate());\n    }\n\n    @HostListener('mousemove', ['$event'])\n    onmove(e: MouseEvent) {\n        this.shapes.find(s => s.isDragged.value)?.mouseMove.next({ x: e.x, y: e.y });\n    }\n\n    @HostListener('mouseleave', ['$event'])\n    @HostListener('mouseup', ['$event'])\n    onup(e: MouseEvent) {\n        this.shapes.find(s => s.isDragged.value)?.isDragged.next(false);\n    }\n}\n\n\n","<div class=\"root\">\n  <svg style=\"width:100%; height:100%;\">\n    <g *ngFor=\"let shape of shapes\">\n      <g *ngIf=\"shape.type === 'circle'\" app-circle [model]=\"shape\" />\n      <g *ngIf=\"shape.type === 'rect'\" app-rect [model]=\"shape\" />\n    </g>\n  </svg>\n</div>","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\nimport { AppComponent } from './app.component';\nimport { CommonModule } from '@angular/common';\nimport { CircleComponent } from './circle/circle.component';\nimport { RectComponent } from \"./rect/rect.component\";\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    CircleComponent,\n    RectComponent,\n  ],\n  imports: [\n    CommonModule,\n    BrowserModule\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { Component, EventEmitter, SimpleChanges } from '@angular/core';\nimport { ShapeComponent } from '../shared/shape.component';\n\n@Component({\n  selector: '[app-circle]',\n  templateUrl: './circle.component.svg',\n  styleUrls: ['./circle.component.css']\n})\nexport class CircleComponent extends ShapeComponent {\n}\n\n\n","<svg:g>\n    <svg:circle \n        [attr.cx]=\"model.x.value + 25\" \n        [attr.cy]=\"model.y.value + 25\" \n        r=\"25\" \n        [class.hovered]=\"model.isHovered.value\"\n        [class.pressed]=\"model.isDragged.value\"\n    ></svg:circle>\n    <svg:circle \n        [attr.cx]=\"model.x.value + 75\" \n        [attr.cy]=\"model.y.value + 25\" \n        r=\"25\" \n        [class.hovered]=\"model.isHovered.value\"\n        [class.pressed]=\"model.isDragged.value\"\n    ></svg:circle>\n    <svg:circle \n        [attr.cx]=\"model.x.value + 25\" \n        [attr.cy]=\"model.y.value + 75\" \n        r=\"25\" \n        [class.hovered]=\"model.isHovered.value\"\n        [class.pressed]=\"model.isDragged.value\"\n    ></svg:circle>\n    <svg:circle \n        [attr.cx]=\"model.x.value + 75\" \n        [attr.cy]=\"model.y.value + 75\" \n        r=\"25\" \n        [class.hovered]=\"model.isHovered.value\"\n        [class.pressed]=\"model.isDragged.value\"\n    ></svg:circle>\n    <svg:rect \n        class=\"overlay\"\n        [attr.x]=\"model.x.value\" \n        [attr.y]=\"model.y.value\" \n        width=\"100\"\n        height=\"100\"\n        (mouseover)=\"model.isHovered.next(true)\" \n        (mouseout)=\"model.isHovered.next(false)\"\n        (mousedown)=\"model.isDragged.next(true)\" \n        (mousedown)=\"lastMousePosition={x:$event.x, y:$event.y}\" \n        (mouseup)=\"model.isDragged.next(false)\"></svg:rect>\n\n</svg:g>","import { Vect } from '../shared/vect';\nimport { Shape } from '../shared/shape.model';\n\nexport class Circle extends Shape {\n    type = \"circle\"\n    constructor(position: Vect) {\n        super(position);\n    }\n}\n","import { Component } from '@angular/core';\nimport { ShapeComponent } from \"../shared/shape.component\";\n\n@Component({\n  selector: '[app-rect]',\n  templateUrl: './rect.component.svg',\n  styleUrls: ['./rect.component.css']\n})\nexport class RectComponent extends ShapeComponent {\n}\n","<svg:g>\n    <svg:rect \n        [attr.x]=\"model.x.value\" \n        [attr.y]=\"model.y.value\" \n        width=\"45\"\n        height=\"45\"\n        [class.hovered]=\"model.isHovered.value\"\n        [class.pressed]=\"model.isDragged.value\"\n    ></svg:rect>\n    <svg:rect \n        [attr.x]=\"model.x.value + 55\" \n        [attr.y]=\"model.y.value\" \n        width=\"45\"\n        height=\"45\"\n        [class.hovered]=\"model.isHovered.value\"\n        [class.pressed]=\"model.isDragged.value\"\n    ></svg:rect>\n    <svg:rect \n        [attr.x]=\"model.x.value\" \n        [attr.y]=\"model.y.value + 55\" \n        width=\"45\"\n        height=\"45\"\n        [class.hovered]=\"model.isHovered.value\"\n        [class.pressed]=\"model.isDragged.value\"\n    ></svg:rect>\n    <svg:rect \n        [attr.x]=\"model.x.value + 55\" \n        [attr.y]=\"model.y.value + 55\" \n        width=\"45\"\n        height=\"45\"\n        [class.hovered]=\"model.isHovered.value\"\n        [class.pressed]=\"model.isDragged.value\"\n    ></svg:rect>\n    <svg:rect \n        class=\"overlay\"\n        [attr.x]=\"model.x.value\" \n        [attr.y]=\"model.y.value\" \n        width=\"100\"\n        height=\"100\"\n        (mouseover)=\"model.isHovered.next(true)\" \n        (mouseout)=\"model.isHovered.next(false)\"\n        (mousedown)=\"model.isDragged.next(true)\" \n        (mousedown)=\"lastMousePosition={x:$event.x, y:$event.y}\" \n        (mouseup)=\"model.isDragged.next(false)\"></svg:rect>\n</svg:g>","import { Vect } from '../shared/vect';\nimport { Shape } from '../shared/shape.model';\nexport class Rect extends Shape {\n    type = \"rect\";\n    constructor(position: Vect) {\n        super(position);\n    }\n}\n","export class ChainComparer<T> {\n    private getTarget: (T) => unknown;\n    private previous: ChainComparer<T>;\n    constructor(private a: T, private b: T) {\n    }\n\n    compareBy(getTarget: (T) => unknown) {\n        let result = new ChainComparer<T>(this.a, this.b);\n        result.getTarget = getTarget;\n        result.previous = this;\n        return result;\n    }\n\n    evaluate(): number {\n        const previous = this.previous?.evaluate();\n        if (!!previous)\n            return previous;\n\n        if (!!this.getTarget) {\n            if (this.getTarget(this.a) < this.getTarget(this.b))\n                return -1;\n            if (this.getTarget(this.a) > this.getTarget(this.b))\n                return 1;\n        }\n        return 0;\n    }\n}\n","import { Input, OnDestroy, OnChanges } from '@angular/core';\nimport { Shape } from \"./shape.model\";\nimport { Subscription } from 'rxjs';\nimport { Vect } from './vect';\n\nexport abstract class ShapeComponent implements OnDestroy, OnChanges {\n  @Input() model!: Shape;\n\n  lastMousePosition: Vect = { x: 0, y: 0 };\n  private subscription: Subscription;\n\n  ngOnChanges(): void {\n    const shouldInitialize = !this.subscription || !!this.model;\n    if (shouldInitialize) {\n\n      this.subscription = this.model.mouseMove.subscribe(mousePosition => this.onMove(mousePosition));\n    }\n  }\n\n  onMove(mousePosition: Vect) {\n    this.model.x.next(this.model.x.value + mousePosition.x - this.lastMousePosition.x);\n    this.model.y.next(this.model.y.value + mousePosition.y - this.lastMousePosition.y);\n    this.lastMousePosition = mousePosition;\n  }\n\n  ngOnDestroy(): void {\n    this.subscription?.unsubscribe();\n  }\n}\n","import { Vect } from './vect';\nimport { BehaviorSubject } from 'rxjs';\n\nexport abstract class Shape {\n    abstract type: string;\n    x = new BehaviorSubject<number>(0);\n    y = new BehaviorSubject<number>(0);\n    isHovered = new BehaviorSubject<boolean>(false);\n    isDragged = new BehaviorSubject<boolean>(false);\n    mouseMove = new BehaviorSubject<Vect>({ x: 0, y: 0 });\n\n    constructor(position: Vect) {\n        this.x.next(position.x);\n        this.y.next(position.y);\n    }\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"sourceRoot":"webpack:///"}